
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/basic/plot_01_quick_start.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_basic_plot_01_quick_start.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_basic_plot_01_quick_start.py:


SUEWS Quick Start Tutorial
==========================

Essential SUEWS workflow using the modern SuPy (Python) interface.

This tutorial demonstrates the complete workflow for running urban climate
simulations with SUEWS:

1. Load sample data
2. Run simulation
3. Explore results (statistics, plotting, resampling)

**What is SUEWS?**

SUEWS (Surface Urban Energy and Water Balance Scheme) is an urban climate model
that simulates energy and water fluxes in urban environments. **SuPy** is the
modern Python interface that provides powerful data analysis capabilities and
seamless integration with the scientific Python ecosystem.

.. GENERATED FROM PYTHON SOURCE LINES 21-33

.. code-block:: Python


    import os

    import matplotlib.pyplot as plt
    import numpy as np
    import pandas as pd
    import supy as sp
    from supy import SUEWSSimulation

    # Detect CI environment for reduced computation
    _IS_CI = os.environ.get("CI", "false").lower() == "true"








.. GENERATED FROM PYTHON SOURCE LINES 34-39

Load Sample Data
----------------

SuPy includes built-in sample data to get you started immediately.
Load sample data for the simulation using the modern OOP API.

.. GENERATED FROM PYTHON SOURCE LINES 39-59

.. code-block:: Python


    sim_sample = SUEWSSimulation.from_sample_data()

    # Extract state and forcing for examination
    df_state_init = sim_sample.state_init
    df_forcing = sim_sample.forcing.df  # Use .df property to get DataFrame

    print("Sample data loaded successfully!")
    print(f"Grid ID: {df_state_init.index[0]}")
    print(f"Forcing period: {df_forcing.index[0]} to {df_forcing.index[-1]}")
    print(f"Time steps: {len(df_forcing)}")

    # Use reduced data period for CI, full year for local
    if _IS_CI:
        df_forcing = df_forcing.loc["2012-01":"2012-03"].iloc[1:]  # 3 months for CI
    else:
        df_forcing = df_forcing.loc["2012"].iloc[1:]  # Full year for local

    grid = df_state_init.index[0]





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1063: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("dqndt", "0")] = self.dqndt
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1064: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("dqnsdt", "0")] = self.dqnsdt
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1065: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("dt_since_start", "0")] = self.dt_since_start
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1066: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("lenday_id", "0")] = self.lenday_id
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1067: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("qn_av", "0")] = self.qn_av
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1068: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("qn_s_av", "0")] = self.qn_s_av
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1069: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("tair_av", "0")] = self.tair_av
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1070: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("tmax_id", "0")] = self.tmax_id
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1071: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("tmin_id", "0")] = self.tmin_id
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1072: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("tstep_prev", "0")] = self.tstep_prev
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1073: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("snowfallcum", "0")] = self.snowfallcum
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1079: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[(f"hdd_id", f"({i},)")] = hdd
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1079: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[(f"hdd_id", f"({i},)")] = hdd
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1079: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[(f"hdd_id", f"({i},)")] = hdd
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1079: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[(f"hdd_id", f"({i},)")] = hdd
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1063: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("dqndt", "0")] = self.dqndt
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1064: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("dqnsdt", "0")] = self.dqnsdt
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1065: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("dt_since_start", "0")] = self.dt_since_start
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1066: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("lenday_id", "0")] = self.lenday_id
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1067: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("qn_av", "0")] = self.qn_av
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1068: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("qn_s_av", "0")] = self.qn_s_av
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1069: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("tair_av", "0")] = self.tair_av
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1070: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("tmax_id", "0")] = self.tmax_id
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1071: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("tmin_id", "0")] = self.tmin_id
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1072: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("tstep_prev", "0")] = self.tstep_prev
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1073: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[("snowfallcum", "0")] = self.snowfallcum
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1079: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[(f"hdd_id", f"({i},)")] = hdd
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1079: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[(f"hdd_id", f"({i},)")] = hdd
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1079: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[(f"hdd_id", f"({i},)")] = hdd
    /Users/tingsun/conductor/workspaces/suews/taipei/src/supy/data_model/core/state.py:1079: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
      df_state[(f"hdd_id", f"({i},)")] = hdd
    Sample data loaded successfully!
    Grid ID: 1
    Forcing period: 2012-01-01 00:05:00 to 2013-01-01 00:00:00
    Time steps: 105408




.. GENERATED FROM PYTHON SOURCE LINES 60-69

Understanding Input Data
------------------------

SUEWS requires two main input datasets:

- ``df_state_init``: Initial conditions and site configuration
- ``df_forcing``: Meteorological forcing data (time series)

Let's examine the key parameters.

.. GENERATED FROM PYTHON SOURCE LINES 69-78

.. code-block:: Python


    # Surface characteristics: building and tree heights
    print("Building and tree heights:")
    print(df_state_init.loc[:, ["bldgh", "evetreeh", "dectreeh"]])

    # Surface fractions by land cover type
    print("\nSurface fractions:")
    print(df_state_init.filter(like="sfr_surf"))





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Building and tree heights:
    var     bldgh evetreeh dectreeh
    ind_dim     0        0        0
    grid                           
    1        22.0     13.1     13.1

    Surface fractions:
    var     sfr_surf                                  
    ind_dim     (0,)  (1,) (2,)  (3,)  (4,) (5,)  (6,)
    grid                                              
    1           0.43  0.38  0.0  0.02  0.03  0.0  0.14




.. GENERATED FROM PYTHON SOURCE LINES 79-84

Visualise Forcing Data
----------------------

The forcing data drives the simulation. Let's plot the key meteorological
variables for the simulation period.

.. GENERATED FROM PYTHON SOURCE LINES 84-109

.. code-block:: Python


    list_var_forcing = ["kdown", "Tair", "RH", "pres", "U", "rain"]
    dict_var_label = {
        "kdown": r"Incoming Solar Radiation ($\mathrm{W\ m^{-2}}$)",
        "Tair": r"Air Temperature ($^\circ$C)",
        "RH": "Relative Humidity (%)",
        "pres": "Air Pressure (hPa)",
        "rain": "Rainfall (mm)",
        "U": r"Wind Speed ($\mathrm{m\ s^{-1}}$)",
    }

    # Resample to hourly for cleaner plots
    df_plot_forcing_x = (
        df_forcing.loc[:, list_var_forcing].copy().shift(-1).dropna(how="any")
    )
    df_plot_forcing = df_plot_forcing_x.resample("1h").mean()
    df_plot_forcing["rain"] = df_plot_forcing_x["rain"].resample("1h").sum()

    fig, axes = plt.subplots(6, 1, figsize=(10, 12), sharex=True)
    for ax, var in zip(axes, list_var_forcing):
        df_plot_forcing[var].plot(ax=ax, legend=False)
        ax.set_ylabel(dict_var_label[var])
    fig.tight_layout()
    plt.show()




.. image-sg:: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_001.png
   :alt: plot 01 quick start
   :srcset: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_001.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 110-115

Modify Input Parameters
-----------------------

Since SuPy uses pandas DataFrames, you can easily modify input parameters.
Here we demonstrate modifying surface fractions.

.. GENERATED FROM PYTHON SOURCE LINES 115-126

.. code-block:: Python


    # View original surface fractions
    print("Original surface fractions:")
    print(df_state_init.loc[:, "sfr_surf"])

    # Modify surface fractions (example)
    df_state_init.loc[:, "sfr_surf"] = [0.1, 0.1, 0.2, 0.3, 0.25, 0.05, 0]

    print("\nModified surface fractions:")
    print(df_state_init.loc[:, "sfr_surf"])





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Original surface fractions:
    ind_dim  (0,)  (1,) (2,)  (3,)  (4,) (5,)  (6,)
    grid                                           
    1        0.43  0.38  0.0  0.02  0.03  0.0  0.14

    Modified surface fractions:
    ind_dim (0,) (1,) (2,) (3,)  (4,)  (5,) (6,)
    grid                                        
    1        0.1  0.1  0.2  0.3  0.25  0.05    0




.. GENERATED FROM PYTHON SOURCE LINES 127-132

Run Simulation
--------------

With forcing data and initial conditions ready, run the SUEWS simulation.
Results are accessible via ``sim.results`` and ``sim.state_final``.

.. GENERATED FROM PYTHON SOURCE LINES 132-144

.. code-block:: Python


    # Update simulation with potentially modified forcing and run
    sim_sample.update_forcing(df_forcing)
    sim_sample.run()

    # Access results
    df_output = sim_sample.results
    df_state_final = sim_sample.state_final

    print(f"Simulation complete: {len(df_output)} timesteps")
    print(f"Output groups: {list(df_output.columns.levels[0])}")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Simulation complete: 105406 timesteps
    Output groups: ['BEERS', 'DailyState', 'debug', 'EHC', 'NHood', 'RSL', 'snow', 'SPARTACUS', 'STEBBS', 'SUEWS']




.. GENERATED FROM PYTHON SOURCE LINES 145-150

Explore Results: Statistics
---------------------------

Use pandas' built-in methods for quick statistical summaries of the
energy balance components.

.. GENERATED FROM PYTHON SOURCE LINES 150-154

.. code-block:: Python


    df_output_suews = df_output["SUEWS"]
    df_output_suews.loc[:, ["QN", "QS", "QH", "QE", "QF"]].describe()






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div>
    <style scoped>
        .dataframe tbody tr th:only-of-type {
            vertical-align: middle;
        }

        .dataframe tbody tr th {
            vertical-align: top;
        }

        .dataframe thead th {
            text-align: right;
        }
    </style>
    <table border="1" class="dataframe">
      <thead>
        <tr style="text-align: right;">
          <th>var</th>
          <th>QN</th>
          <th>QS</th>
          <th>QH</th>
          <th>QE</th>
          <th>QF</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>count</th>
          <td>105406.000000</td>
          <td>105406.000000</td>
          <td>105406.000000</td>
          <td>105406.000000</td>
          <td>105406.000000</td>
        </tr>
        <tr>
          <th>mean</th>
          <td>39.842669</td>
          <td>4.782472</td>
          <td>75.037264</td>
          <td>44.878317</td>
          <td>84.855383</td>
        </tr>
        <tr>
          <th>std</th>
          <td>131.961812</td>
          <td>43.124669</td>
          <td>75.610512</td>
          <td>55.890952</td>
          <td>32.926421</td>
        </tr>
        <tr>
          <th>min</th>
          <td>-86.331686</td>
          <td>-50.028263</td>
          <td>-132.514514</td>
          <td>0.088436</td>
          <td>31.148865</td>
        </tr>
        <tr>
          <th>25%</th>
          <td>-42.499768</td>
          <td>-27.242310</td>
          <td>22.828998</td>
          <td>1.233821</td>
          <td>53.836071</td>
        </tr>
        <tr>
          <th>50%</th>
          <td>-25.755608</td>
          <td>-7.833824</td>
          <td>54.363213</td>
          <td>20.269637</td>
          <td>88.340645</td>
        </tr>
        <tr>
          <th>75%</th>
          <td>74.775881</td>
          <td>16.672235</td>
          <td>111.986031</td>
          <td>72.725592</td>
          <td>113.243169</td>
        </tr>
        <tr>
          <th>max</th>
          <td>679.848644</td>
          <td>206.186683</td>
          <td>412.005929</td>
          <td>371.049669</td>
          <td>161.706726</td>
        </tr>
      </tbody>
    </table>
    </div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 155-159

Explore Results: Weekly Energy Balance
--------------------------------------

Plot the surface energy balance for one week to see diurnal patterns.

.. GENERATED FROM PYTHON SOURCE LINES 159-187

.. code-block:: Python


    dict_var_disp = {
        "QN": r"$Q^*$",
        "QS": r"$\Delta Q_S$",
        "QE": "$Q_E$",
        "QH": "$Q_H$",
        "QF": "$Q_F$",
    }

    # Select first week of available data for plotting
    start_date = df_output_suews.index.get_level_values("datetime")[0]
    end_date = start_date + pd.Timedelta(days=7)

    fig, ax = plt.subplots(figsize=(10, 4))
    (
        df_output_suews.loc[grid]
        .loc[start_date:end_date, ["QN", "QS", "QE", "QH", "QF"]]
        .rename(columns=dict_var_disp)
        .plot(ax=ax)
    )
    ax.set_xlabel("Date")
    ax.set_ylabel(r"Flux ($\mathrm{W\ m^{-2}}$)")
    ax.set_title("Surface Energy Balance (One Week)")
    ax.legend()
    plt.tight_layout()
    plt.show()





.. image-sg:: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_002.png
   :alt: Surface Energy Balance (One Week)
   :srcset: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_002.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 189-194

Temporal Resampling: Daily Patterns
-----------------------------------

SUEWS runs at 5-minute intervals. Resampling to daily values reveals
seasonal patterns.

.. GENERATED FROM PYTHON SOURCE LINES 194-213

.. code-block:: Python


    rsmp_1d = df_output_suews.loc[grid].resample("1d")
    df_1d_mean = rsmp_1d.mean()
    df_1d_sum = rsmp_1d.sum()

    # Plot daily mean energy balance
    fig, ax = plt.subplots(figsize=(10, 4))
    (
        df_1d_mean.loc[:, ["QN", "QS", "QE", "QH", "QF"]]
        .rename(columns=dict_var_disp)
        .plot(ax=ax)
    )
    ax.set_xlabel("Date")
    ax.set_ylabel(r"Mean Flux ($\mathrm{W\ m^{-2}}$)")
    ax.set_title("Daily Mean Surface Energy Balance")
    ax.legend()
    plt.tight_layout()
    plt.show()




.. image-sg:: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_003.png
   :alt: Daily Mean Surface Energy Balance
   :srcset: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_003.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    /Users/tingsun/conductor/workspaces/suews/taipei/docs/source/examples/basic/plot_01_quick_start.py:195: Pandas4Warning: 'd' is deprecated and will be removed in a future version, please use 'D' instead.
      rsmp_1d = df_output_suews.loc[grid].resample("1d")




.. GENERATED FROM PYTHON SOURCE LINES 214-218

Radiation and Water Balance
---------------------------

Examine radiation components and water balance using daily aggregates.

.. GENERATED FROM PYTHON SOURCE LINES 218-258

.. code-block:: Python


    dict_var_disp_full = {
        "QN": r"$Q^*$",
        "Kdown": r"$K_{\downarrow}$",
        "Kup": r"$K_{\uparrow}$",
        "Ldown": r"$L_{\downarrow}$",
        "Lup": r"$L_{\uparrow}$",
        "Rain": "$P$",
        "Irr": "$I$",
        "Evap": "$E$",
        "RO": "$R$",
        "TotCh": r"$\Delta S$",
    }

    fig, axes = plt.subplots(2, 1, figsize=(10, 6), sharex=True)

    # Radiation balance
    (
        df_1d_mean.loc[:, ["QN", "Kdown", "Kup", "Ldown", "Lup"]]
        .rename(columns=dict_var_disp_full)
        .plot(ax=axes[0])
    )
    axes[0].set_ylabel(r"Mean Flux ($\mathrm{W\ m^{-2}}$)")
    axes[0].set_title("Radiation Balance")
    axes[0].legend()

    # Water balance
    (
        df_1d_sum.loc[:, ["Rain", "Irr", "Evap", "RO", "TotCh"]]
        .rename(columns=dict_var_disp_full)
        .plot(ax=axes[1])
    )
    axes[1].set_xlabel("Date")
    axes[1].set_ylabel("Water Amount (mm)")
    axes[1].set_title("Surface Water Balance")
    axes[1].legend()

    plt.tight_layout()
    plt.show()




.. image-sg:: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_004.png
   :alt: Radiation Balance, Surface Water Balance
   :srcset: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_004.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 259-263

Monthly Patterns
----------------

Aggregate to monthly values for seasonal overview using bar charts.

.. GENERATED FROM PYTHON SOURCE LINES 263-303

.. code-block:: Python


    df_plot = df_output_suews.loc[grid].copy()
    df_plot.index = df_plot.index.set_names("Month")
    rsmp_1M = df_plot.shift(-1).dropna(how="all").resample("1ME")
    df_1M_mean = rsmp_1M.mean()
    df_1M_sum = rsmp_1M.sum()
    # Convert index to period for better month display
    df_1M_mean.index = df_1M_mean.index.to_period("M")
    df_1M_sum.index = df_1M_sum.index.to_period("M")

    # Month names for labels
    name_mon = [x.strftime("%b") for x in rsmp_1M.groups]

    fig, axes = plt.subplots(2, 1, sharex=True, figsize=(10, 6))

    # Monthly energy balance
    (
        df_1M_mean.loc[:, ["QN", "QS", "QE", "QH", "QF"]]
        .rename(columns=dict_var_disp)
        .plot(ax=axes[0], kind="bar")
    )
    axes[0].set_ylabel(r"Mean Flux ($\mathrm{W\ m^{-2}}$)")
    axes[0].set_title("Monthly Surface Energy Balance")
    axes[0].legend()

    # Monthly water balance
    (
        df_1M_sum.loc[:, ["Rain", "Irr", "Evap", "RO", "TotCh"]]
        .rename(columns=dict_var_disp_full)
        .plot(ax=axes[1], kind="bar")
    )
    axes[1].set_xlabel("Month")
    axes[1].set_ylabel("Total Water Amount (mm)")
    axes[1].set_title("Monthly Surface Water Balance")
    axes[1].xaxis.set_ticklabels(name_mon, rotation=0)
    axes[1].legend()

    plt.tight_layout()
    plt.show()




.. image-sg:: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_005.png
   :alt: Monthly Surface Energy Balance, Monthly Surface Water Balance
   :srcset: /auto_examples/basic/images/sphx_glr_plot_01_quick_start_005.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 304-324

Summary
-------

This tutorial demonstrated the essential SUEWS workflow:

1. **Load sample data** using ``SUEWSSimulation.from_sample_data()``
2. **Run simulation** with ``sim.run()``
3. **Explore results** using pandas for statistics, resampling, and plotting

Key concepts covered:

- Energy balance components: Q*, QH, QE, QS, QF
- Radiation balance: Kdown, Kup, Ldown, Lup
- Water balance: Rain, Evap, Runoff, Storage change
- Temporal resampling: 5-min to hourly, daily, monthly

**Next steps:**

- :doc:`plot_02_setup_own_site` - Configure SUEWS for your own site
- :doc:`plot_03_impact_studies` - Sensitivity analysis and scenario modelling


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 24.695 seconds)


.. _sphx_glr_download_auto_examples_basic_plot_01_quick_start.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_01_quick_start.ipynb <plot_01_quick_start.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_01_quick_start.py <plot_01_quick_start.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_01_quick_start.zip <plot_01_quick_start.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
