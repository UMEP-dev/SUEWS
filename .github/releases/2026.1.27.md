## Installation

```bash
pip install --upgrade supy
```

## Changes

This release introduces significant STEBBS enhancements, physics improvements for dyOHM calculations, and extensive stability fixes for QGIS/UMEP integration.

### Major Features

- **STEBBS Time-Varying Profiles**: Added support for 10-minute profiles for Heating setpoints, Cooling setpoints, Appliance usage, Occupants, and Hot Water demand. This enables more realistic diurnal variation in building energy simulations. (#1038)

- **Dynamic OHM Surface Separation**: Separated surfaces for dyOHM (dynamic Objective Hysteresis Model) calculation, allowing more accurate surface heat storage modelling for different land cover types. (#1122)

### Stability Improvements

- **Thread-Safe Error Logging**: Added modState parameter for thread-safe error handling, preventing race conditions in parallel simulations. (#1083)

- **QGIS Crash Fix**: Removed stdout writes that caused QGIS to crash when running SUEWS through the UMEP plugin. (#1086)

- **Pandas 3.0 Compatibility**: Fixed Copy-on-Write and `asfreq()` changes for forward compatibility with Pandas 3.0. (#1106)

- **QGIS/UMEP Test Suite**: Added comprehensive compatibility test suite to catch integration issues early. (#905)

### Physics Fixes

- **Biogenic CO2**: Fixed biogenic CO2 calculations to use local climate instead of global average temperature, improving FcRespi accuracy in regional studies. (#1117)

- **NumCapita Initialisation**: Fixed uninitialised NumCapita variable that caused NaN values in CO2 flux calculations. (#1053)

- **Error Flag Reset**: Reset error flag before kernel calls to prevent stale errors from previous runs affecting subsequent simulations. (#1109)

### Validation Enhancements

- Improved albedo ranges for physics-aware validation (#978)
- Improved emissivity ranges for physics-aware validation (#979)
- Added warning when surface fractions are auto-normalised (#1071)
- Structured error handling with detailed validation reports (#1070)

### Build System

- Split `make dev` and `make dev-dts` targets for faster development builds when DTS components are unchanged (#1108)
- Vendored f90wrap runtime to eliminate pip dependency conflicts (#963)
- Fixed UMEP NumPy ABI compatibility for QGIS environments (#1056)
- Added merge queue support to CI workflow (#954)

### Breaking Changes

None. This release maintains full backward compatibility with 2025.11.20.

## Citation

This release is automatically archived on Zenodo and assigned a DOI for academic citation. The DOI will appear here once Zenodo processing is complete (usually within a few minutes).

## Documentation

- [User Guide](https://suews.readthedocs.io)
- [CHANGELOG](https://github.com/UMEP-dev/SUEWS/blob/master/CHANGELOG.md)
- [GitHub Repository](https://github.com/UMEP-dev/SUEWS)
