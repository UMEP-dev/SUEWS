pipeline,rule_type,rule_name,trigger_condition,validation_logic,validation_source,parameters_affected
C/Pydantic,conditional_required,parameter_completeness,always,"validates all site parameters are complete; runs site-by-site checks and conditional validations (STEBBS, RSL, storage)",config.py:validate_parameter_completeness,"site.properties.* (all site parameters)"
C/Pydantic,conditional_required,stebbs_completeness,stebbsmethod == 1,"all STEBBS parameters must be present and non-null when stebbsmethod=1",config.py:_validate_stebbs,"WallInternalConvectionCoefficient, InternalMassConvectionCoefficient, FloorInternalConvectionCoefficient, WindowInternalConvectionCoefficient, WallExternalConvectionCoefficient, WindowExternalConvectionCoefficient, GroundDepth, ExternalGroundConductivity, IndoorAirDensity, IndoorAirCp, WallBuildingViewFactor, WallGroundViewFactor, WallSkyViewFactor, MetabolicRate, LatentSensibleRatio, ApplianceRating, TotalNumberofAppliances, ApplianceUsageFactor, HeatingSystemEfficiency, MaxCoolingPower, CoolingSystemCOP, VentilationRate, IndoorAirStartTemperature, IndoorMassStartTemperature, WallIndoorSurfaceTemperature, WallOutdoorSurfaceTemperature, WindowIndoorSurfaceTemperature, WindowOutdoorSurfaceTemperature, GroundFloorIndoorSurfaceTemperature, GroundFloorOutdoorSurfaceTemperature, WaterTankTemperature, InternalWallWaterTankTemperature, ExternalWallWaterTankTemperature, WaterTankWallThickness, MainsWaterTemperature, WaterTankSurfaceArea, HotWaterHeatingSetpointTemperature, HotWaterTankWallEmissivity, DomesticHotWaterTemperatureInUseInBuilding, InternalWallDHWVesselTemperature, ExternalWallDHWVesselTemperature, DHWVesselWallThickness, DHWWaterVolume, DHWSurfaceArea, DHWVesselEmissivity, HotWaterFlowRate, DHWDrainFlowRate, DHWSpecificHeatCapacity, HotWaterTankSpecificHeatCapacity, DHWVesselSpecificHeatCapacity, DHWDensity, HotWaterTankWallDensity, DHWVesselDensity, HotWaterTankBuildingWallViewFactor, HotWaterTankInternalMassViewFactor, HotWaterTankWallConductivity, HotWaterTankInternalWallConvectionCoefficient, HotWaterTankExternalWallConvectionCoefficient, DHWVesselWallConductivity, DHWVesselInternalWallConvectionCoefficient, DHWVesselExternalWallConvectionCoefficient, DHWVesselWallEmissivity, HotWaterHeatingEfficiency, MinimumVolumeOfDHWinUse"
C/Pydantic,conditional_required,rsl_faibldg_required,rslmethod == 2 & bldgs.sfr > 0,"when rslmethod=2 and buildings present (bldgs.sfr > 0), faibldg parameter must be set",config.py:_validate_rsl,faibldg
C/Pydantic,conditional_required,storage_validation,storageheatmethod == 6,"when DyOHM storage heat method enabled, required storage parameters must be set",config.py:_validate_storage,"dz, k, rho_cp, lambda_c"
C/Pydantic,conditional_required,critical_physics_nonnull,always,"critical physics parameters must be non-null (prevents runtime crashes from int() conversion)",config.py:_check_critical_null_physics_params,"netradiationmethod, emissionsmethod, storageheatmethod, ohmincqf, roughlenmommethod, roughlenheatmethod, stabilitymethod, smdmethod, waterusemethod, rslmethod, faimethod, rsllevel, gsmodel, snowuse, stebbsmethod"
C/Pydantic,conditional_required,site_required_fields,always,"critical site fields must be present and valid; includes z0m_in < zdm_in physical constraint",config.py:validate_site_required_fields,"lat, lng, alt, timezone, z0m_in, zdm_in"
C/Pydantic,cross_parameter,schema_compatibility,schema_version specified,"validates configuration schema version is compatible with current SUEWS version",config.py:validate_schema_compatibility,schema_version
C/Pydantic,cross_parameter,radiation_forcing_compatibility,netradiationmethod == 1 & forcing_file looks like sample,"warns if netradiationmethod=1 (needs observed Ldown) but forcing file appears to be sample data",config.py:validate_model_radiation_method,"netradiationmethod, forcing_file"
C/Pydantic,physical_constraint,output_config_validation,output_file is OutputConfig,"output frequency must be positive and a multiple of timestep",config.py:validate_model_output_config,"tstep, output_file.freq"
C/Pydantic,field_transformation,output_groups_validation,groups specified,"validates output groups against allowed set: {SUEWS, DailyState, snow, ESTM, RSL, BL, debug, SPARTACUS, EHC, STEBBS}",model.py:validate_groups,groups
C/Pydantic,field_transformation,numeric_type_conversion,always,"converts numpy float/int types to Python native float/int for tstep and diagnose",model.py:validate_int_float,"tstep, diagnose"
C/Pydantic,field_transformation,timezone_enum_conversion,timezone is numeric,"converts numeric timezone offset values to TimezoneOffset enum",site.py:validate_timezone,timezone
C/Pydantic,field_transformation,temperature_array_handling,temperature field present,"ensures temperature is properly formatted as 5-element array for multi-layer surfaces",state.py:validate_temperature,temperature
C/Pydantic,field_transformation,schedule_validation,schedule data present,"validates working_day and holiday schedule format before parsing",profile.py:validate_working_day_holiday,"working_day, holiday"
A,cross_parameter,nlayer_dimension_match,nlayer specified,"validates that vertical layer arrays match nlayer dimensions: veg_frac/veg_scale/building_frac/building_scale (nlayer elements), height (nlayer+1 elements), roofs/walls (nlayer substructures)",phase_a.py:validate_nlayer_dimensions,"nlayer, veg_frac, veg_scale, building_frac, building_scale, height, roofs, walls"
A,data_validation,forcing_data_validation,forcing_file specified,"validates forcing data file existence, format, and content quality; checks for missing values, valid ranges, and physics compatibility",phase_a.py:validate_forcing_data,forcing_file
B,conditional_required,physics_parameters_completeness,always,"validates that all 16 critical physics parameters are present and non-null to prevent runtime crashes",phase_b.py:validate_physics_parameters,"netradiationmethod, emissionsmethod, storageheatmethod, ohmincqf, roughlenmommethod, roughlenheatmethod, stabilitymethod, smdmethod, waterusemethod, rslmethod, faimethod, rsllevel, gsmodel, snowuse, stebbsmethod, rcmethod"
B,cross_parameter,model_option_dependencies,always,"validates consistency between physics options: rslmethod/stabilitymethod compatibility, storageheatmethod/ohmincqf compatibility",phase_b.py:validate_model_option_dependencies,"rslmethod, stabilitymethod, storageheatmethod, ohmincqf"
B,cross_parameter,land_cover_consistency,always,"validates that surface fractions sum to 1.0 (with 0.9999-1.0001 tolerance) and active surfaces (sfr>0) have complete parameter sets",phase_b.py:validate_land_cover_consistency,"paved.sfr, bldgs.sfr, evetr.sfr, dectr.sfr, grass.sfr, bsoil.sfr, water.sfr"
B,physical_constraint,geographic_validation,always,"validates geographic coordinates are in valid ranges (lat: -90 to 90, lng: -180 to 180) and calculates timezone/DST if missing",phase_b.py:validate_geographic_parameters,"lat, lng, timezone, startdls, enddls"
B,scientific_adjustment,temperature_adjustment,always,"automatically sets initial surface temperatures (temperature, tsfc, tin) based on CRU climate data for simulation start month and location; updates STEBBS outdoor temperatures",phase_b.py:adjust_surface_temperatures,"temperature, tsfc, tin, WallOutdoorSurfaceTemperature, RoofOutdoorSurfaceTemperature, WindowOutdoorSurfaceTemperature, OutdoorAirStartTemperature, OutdoorAirAnnualTemperature"
B,scientific_adjustment,seasonal_adjustment,season-dependent,"automatically adjusts seasonal parameters: nullifies snowalb in summer/tropical, sets dectr lai_id based on season (summer=laimax, winter=laimin, spring/fall=average), calculates DST transitions",phase_b.py:adjust_seasonal_parameters,"snowalb, lai_id, startdls, enddls"
B,scientific_adjustment,stebbs_nullification,stebbsmethod==0,"automatically nullifies all STEBBS parameters when STEBBS model is disabled (stebbsmethod=0)",phase_b.py:adjust_model_dependent_nullification,all STEBBS parameters
B,cross_parameter,irrigation_validation,ie_start or ie_end specified,"validates irrigation timing: DOY range (1-365/366), both params must be set together or both disabled, hemisphere-aware seasonal restrictions (Northern: DOY 121-273, Southern: DOY 305-90), detects unusual year-wrapping patterns",phase_b.py:validate_irrigation_parameters,"ie_start, ie_end, lat"
