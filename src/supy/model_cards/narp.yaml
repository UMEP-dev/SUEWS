identity:
  scheme_name: narp
  full_name: Net All-wave Radiation Parameterisation
  category: radiation
  purpose: >-
    Calculates net all-wave radiation (Q*) from incoming shortwave radiation,
    air temperature, humidity, and surface characteristics using empirical
    longwave parameterisations.
  version_introduced: "v1.0"
  original_authors:
    - "B. Offerle"
    - "T. Loridan"
  enum_class: NetRadiationMethod
  enum_values: [1, 2, 3]

scientific_basis:
  theoretical_basis: >-
    NARP computes outgoing shortwave and incoming/outgoing longwave radiation
    components based on incoming shortwave radiation, temperature, relative
    humidity, and surface characteristics (albedo, emissivity). Longwave
    downward radiation can be observed or modelled from cloud cover fraction
    (estimated from RH/T or provided directly). The scheme uses bulk surface
    properties weighted by land cover fractions.
  key_publications:
    - "O03"
    - "L11"
  key_assumptions:
    - "Bulk surface properties (albedo, emissivity) are area-weighted averages over surface types"
    - "Longwave emission follows Stefan-Boltzmann law with effective surface emissivity"
    - "Cloud cover fraction can be estimated from air temperature and relative humidity"
  comparison_to_established: >-
    NARP provides a simplified radiation balance suitable for neighbourhood-scale
    applications. For detailed 3D radiation interactions including building
    geometry and vegetation shading, SPARTACUS-Surface or BEERS offer higher
    fidelity at greater computational cost.

evaluation_evidence:
  evaluation_status: peer-reviewed
  evaluation_datasets:
    - "Multiple urban flux tower sites across North America and Europe"
    - "WRF single-layer urban canopy model evaluation (Loridan et al. 2011)"
  performance_summary: >-
    Well-validated across diverse urban environments. Performs reliably for
    neighbourhood-scale energy balance calculations where 3D radiation effects
    are secondary.
  intercomparison_results: >-
    Default recommended radiation scheme in SUEWS. SPARTACUS-Surface provides
    higher physical fidelity for complex urban canopies but at significantly
    higher computational cost.

technical_characteristics:
  spatial_scale:
    - neighbourhood
    - city
  temporal_resolution:
    - sub-hourly
    - hourly
  required_inputs:
    parameters:
      - "Surface albedo (per surface type)"
      - "Surface emissivity (per surface type)"
      - "Surface fractions (7 surface types)"
    forcing:
      - "Incoming shortwave radiation (Kdown)"
      - "Air temperature"
      - "Relative humidity"
      - "Atmospheric pressure"
      - "Cloud cover fraction (optional, depending on method)"
      - "Incoming longwave radiation (optional, if observed)"
  outputs:
    - "Net all-wave radiation (Q*)"
    - "Outgoing shortwave radiation (Kup)"
    - "Incoming longwave radiation (Ldown, if modelled)"
    - "Outgoing longwave radiation (Lup)"
  computational_demand: low
  dependencies:
    - "Sun position calculation (internal)"
  conflicts:
    - "Cannot be used simultaneously with SPARTACUS-Surface (methods 1001-1003 use SPARTACUS instead)"

operational_status:
  development_status: stable
  current_maintainers:
    - name: SUEWS Development Team
      affiliation: University of Reading / UCL
  last_significant_update: "2017-08"
  active_development: maintenance-only
  test_coverage:
    - "Smoke tests via make test-smoke"
    - "Full regression tests via make test"
  known_issues:
    - "Surface temperature variants (methods 11-13) are not recommended"
    - "Zenith angle correction variants (methods 100-300) are not recommended"

user_guidance:
  recommended_for:
    - "Standard urban energy balance simulations at neighbourhood scale"
    - "Long-duration runs where computational efficiency is important"
    - "Applications where observed longwave down radiation is available"
  not_recommended_for:
    - "Studies requiring detailed 3D radiation interactions with building geometry"
    - "Mean radiant temperature or pedestrian thermal comfort calculations"
  configuration_notes: >-
    NetRadiationMethod values 1-3 select NARP with different longwave down
    options: 1 = observed Ldown from forcing file, 2 = modelled from cloud
    cover fraction, 3 = modelled from air temperature and relative humidity.
    Method 0 uses observed Q* directly (bypassing NARP).
  common_pitfalls:
    - "Methods 11-13 (surface temperature variants) should be avoided in production"
    - "Ensure cloud cover fraction is provided if using method 2"

governance:
  candidate_for_deprecation: false
